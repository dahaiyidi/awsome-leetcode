## Problem

#### [142. 环形链表 II](https://leetcode-cn.com/problems/linked-list-cycle-ii/)

++

给定一个链表，返回链表开始入环的第一个节点。 如果链表无环，则返回 `null`。

------

### Note

- 利用快慢指针
- 在相交点处，将slow设置为head, fast停留在相交点。 然后fast和slow每次均移动一步，再次相交点就是进入环的第一个节点
- 注意：初始状态为： slow = fast = head
- ![image-20211221214321975](../imgs/image-20211221214321975.png)

------

### Complexity

- 时间O：n
- 空间O：1

------

### Python

```python
#python
class Solution:
    def detectCycle(self, head: ListNode) -> ListNode:
        # if not head or not head.next:
        #     return None

        slow = head
        fast = head
        # 寻找交点
        while fast and fast.next:
            slow = slow.next
            fast = fast.next.next
            if slow == fast:
                break
                
        # 无环
        # print(fast, fast.next)
        if not fast or not fast.next:
            return None
        
        #有环
        slow = head
        while slow != fast:
            slow = slow.next
            fast = fast.next
        return slow
```

### C++

```C++
# c++
class Solution {
public:
    ListNode *detectCycle(ListNode *head) {
        ListNode* fast=head,*slow=head;

        while(fast!=NULL){
            slow=slow->next;
            if(fast->next==NULL)
                return NULL;
            fast=fast->next->next;
            if(slow==fast){
                slow=head;
                while(slow!=fast)
                {
                    slow=slow->next;
                    fast=fast->next;
                }
                return slow;
            }
        }
        return NULL;
        
    }
};
```



From : https://github.com/dahaiyidi/awsome-leetcode
